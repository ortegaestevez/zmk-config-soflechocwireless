# Copyright (c) 2020 Ryan Cross
# SPDX-License-Identifier: MIT

# Uncomment the following line to enable the Sofle OLED Display
CONFIG_ZMK_DISPLAY=y

# Uncomment these two lines to add support for encoders
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=y

# Enable deep sleep support
CONFIG_ZMK_SLEEP=y

# Milliseconds of inactivity before entering idle state (default 30000 = 30 seconds)
CONFIG_ZMK_IDLE_TIMEOUT=30000

# Milliseconds of inactivity before entering deep sleep (default 900000 = 15 minutes)
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

# Disable external power when RGB is toggled off (default is y)
# Set to 'n' if you want displays to stay on when RGB is off
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n

# Enable battery reporting (usually enabled by default with BLE)
CONFIG_ZMK_BATTERY_REPORTING=y

# Battery level report interval in seconds (default 60)
CONFIG_ZMK_BATTERY_REPORT_INTERVAL=60

# For split keyboards - fetch peripheral battery levels
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# Enable Bluetooth Battery Service
CONFIG_BT_BAS=y

# Increase transmit power for better connection (minimal power impact)
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Enable 2M PHY for reduced power consumption (may reduce range)
# Split keyboards benefit from this since halves are always close
CONFIG_BT_CTLR_PHY_2M=y

# Number of Bluetooth profiles (default 5)
# Reduce if you don't need 5 paired devices
CONFIG_BT_MAX_CONN=3
CONFIG_BT_MAX_PAIRED=3

# Blank display when idle (default y for SSD1306)
CONFIG_ZMK_DISPLAY_BLANK_ON_IDLE=y

# Increase debounce scan period to reduce power (default 1ms)
# Higher values = less frequent scanning = lower power usage
# CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
# CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# Delay before saving settings to flash (default 60000 = 1 minute)
# CONFIG_ZMK_SETTINGS_SAVE_DEBOUNCE=60000

# Disable USB logging (increases power usage dramatically)
# Keep this commented out unless actively debugging
# CONFIG_ZMK_USB_LOGGING=y
